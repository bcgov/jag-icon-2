<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema targetNamespace="ICON2.Source.Message.ws.provider:Message" xmlns:xsd="http://www.w3.org/2001/XMLSchema"
            xmlns:tns="ICON2.Source.Message.ws.provider:Message">

    <xsd:element name="setMessageDetails">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element name="XMLString" nillable="true" type="tns:messagesOuter"/>
                <xsd:element name="UserTokenString" nillable="true" type="tns:userTokenOuter"/>
            </xsd:sequence>
        </xsd:complexType>
    </xsd:element>

    <xsd:element name="setMessageDetailsResponse">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element name="XMLString" nillable="true" type="tns:messagesOuter"/>
            </xsd:sequence>
        </xsd:complexType>
    </xsd:element>

    <xsd:element name="Error">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element name="Reason" nillable="true" type="xsd:string"/>
            </xsd:sequence>
        </xsd:complexType>
    </xsd:element>

    <xsd:element name="getMessages">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element name="XMLString" nillable="true" type="tns:messagesOuter"/>
                <xsd:element name="UserTokenString" nillable="true" type="tns:userTokenOuter"/>
            </xsd:sequence>
        </xsd:complexType>
    </xsd:element>

    <xsd:element name="getMessagesResponse">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element name="XMLString" nillable="true" type="tns:messagesOuter"/>
            </xsd:sequence>
        </xsd:complexType>
    </xsd:element>

    <xsd:element name="getMessageDetails">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element name="XMLString" nillable="true" type="tns:messagesOuter"/>
                <xsd:element name="UserTokenString" nillable="true" type="tns:userTokenOuter"/>
            </xsd:sequence>
        </xsd:complexType>
    </xsd:element>

    <xsd:complexType name="messagesOuter">
        <xsd:sequence>
            <xsd:element name="Messages" nillable="true" type="tns:messagesInner"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="messagesInner">
        <xsd:sequence>
            <xsd:element name="Messages" type="tns:messages"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="messages">
        <xsd:sequence>
            <xsd:element name="csNum" nillable="true" type="xsd:string"/>
            <xsd:element name="unreadMessageCount" nillable="true" type="xsd:string"/>
            <xsd:element name="Row" nillable="true" type="tns:row"/>
            <xsd:element maxOccurs="unbounded" minOccurs="0" name="MessageDetails" nillable="true" type="tns:messageDetails"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="messageDetails">
        <xsd:sequence>
            <xsd:element name="id" type="xsd:string"/>
            <xsd:element name="unread" nillable="true" type="xsd:string"/>
            <xsd:element name="timestamp" nillable="true" type="xsd:dateTime"/>
            <xsd:element name="MessageType" nillable="true" type="tns:messageType"/>
            <xsd:element name="text" nillable="true" type="xsd:string"/>
            <xsd:element name="Sender" nillable="true" type="tns:sender"/>
            <xsd:element name="hasDisclosureSet" nillable="true" type="xsd:string"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="sender">
        <xsd:sequence>
            <xsd:element name="Individual" nillable="true" type="tns:individual"/>
            <xsd:element name="Application" nillable="true" type="tns:application"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="individual">
        <xsd:sequence>
            <xsd:element name="firstName" nillable="true" type="xsd:string"/>
            <xsd:element name="lastName" nillable="true" type="xsd:string"/>
            <xsd:element maxOccurs="unbounded" minOccurs="0" name="Relationships" nillable="true" type="tns:relationships"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="relationships">
        <xsd:sequence>
            <xsd:element name="code" nillable="true" type="xsd:string"/>
            <xsd:element name="description" nillable="true" type="xsd:string"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="application">
        <xsd:sequence>
            <xsd:element name="code" nillable="true" type="xsd:string"/>
            <xsd:element name="description" nillable="true" type="xsd:string"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="messageType">
        <xsd:sequence>
            <xsd:element name="code" nillable="true" type="xsd:string"/>
            <xsd:element name="description" nillable="true" type="xsd:string"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="row">
        <xsd:sequence>
            <xsd:element name="start" nillable="true" type="xsd:string"/>
            <xsd:element name="end" nillable="true" type="xsd:string"/>
            <xsd:element name="total" nillable="true" type="xsd:string"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:element name="getMessageDetailsResponse">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element name="XMLString" nillable="true" type="tns:messagesOuter"/>
            </xsd:sequence>
        </xsd:complexType>
    </xsd:element>

    <xsd:complexType name="userTokenOuter">
        <xsd:sequence>
            <xsd:element name="UserToken" nillable="true" type="tns:userTokenInner"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="userTokenInner">
        <xsd:sequence>
            <xsd:element name="UserToken" nillable="true" type="tns:userToken"/>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="userToken">
        <xsd:sequence>
            <xsd:element name="remoteClientBrowserType" type="xsd:string"/>
            <xsd:element name="remoteClientHostName" type="xsd:string"/>
            <xsd:element name="remoteClientIPAddress" type="xsd:string"/>
            <xsd:element name="userIdentifier" type="xsd:string"/>
            <xsd:element name="authoritativePartyIdentifier" type="xsd:string"/>
            <xsd:element name="biometricsSignature" type="xsd:string"/>
            <xsd:element name="csNumber" type="xsd:string"/>
            <xsd:element name="siteMinderSessionID" type="xsd:string"/>
            <xsd:element name="siteMinderTransactionID" type="xsd:string"/>
        </xsd:sequence>
    </xsd:complexType>

</xsd:schema>